<div class="calendar">
  <div class="calendar-header">
    <button (click)="prevMonth()" aria-label="Previous month">❮</button>
    <h2>{{ currentMonth | date: 'MMMM yyyy' }}</h2>
    <button (click)="nextMonth()" aria-label="Next month">❯</button>
  </div>

  <!-- Week Labels -->
  <div class="calendar-grid">
    <div *ngFor="let day of weekDays" class="calendar-day">
      {{ day }}
    </div>
  </div>

  <!-- Calendar Cells -->
  <div class="calendar-grid">
    <div
      *ngFor="let day of calendarDays"
      class="calendar-cell"
      [ngClass]="{ 'today': isToday(day), 'empty': !day }"
      tabindex="{{ day ? 0 : -1 }}"
      role="button"
      [attr.aria-label]="day ? getAriaLabel(day) : null"
      (click)="onDateClick(day)"
      (keydown.enter)="onDateClick(day)"
    >
      <span class="date-number" *ngIf="day">{{ day.getDate() }}</span>

      <div class="task-badge" *ngIf="day">
        <span *ngFor="let task of getTasksForDate(day).slice(0, 2)">
          • {{ task.title }}
        </span>
        <span *ngIf="getTasksForDate(day).length > 2">
          +{{ getTasksForDate(day).length - 2 }} more
        </span>
      </div>
    </div>
  </div>
</div>