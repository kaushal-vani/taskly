<div class="kanban-board">
  <div
    class="kanban-column"
    *ngFor="let status of statuses"
    (drop)="onDrop($event, status)"
    (dragover)="onDragOver($event)"
  >
    <h3 class="column-title">{{ formatStatus(status) }}</h3>

    <div
      class="task-card"
      *ngFor="let task of tasks[status]"
      draggable="true"
      (dragstart)="onDragStart($event, task, status)"
    >
      <!-- Top: Title -->
      <div class="task-title">{{ task.title }}</div>

      <!-- Middle: Description -->
      <div class="task-desc">{{ task.description }}</div>

      <!-- Bottom: Priority & Deadline -->
      <div class="task-footer">
        <div class="priority-section">
          <lib-priority-indicator [level]="getPriorityLevel(task.priority)">
          </lib-priority-indicator>
        </div>

        <div class="deadline" [ngClass]="{ overdue: isOverdue(task.dueDate) }">
          {{ getDaysLeft(task.dueDate) }}
        </div>
      </div>
    </div>
  </div>
</div>
